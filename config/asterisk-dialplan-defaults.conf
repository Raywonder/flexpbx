; FlexPBX Default Dialplan Configuration
; Compatible with FreePBX voice prompts and IVR templates
; Generated by FlexPBX Installer

[general]
static=yes
writeprotect=no
clearglobalvars=no

[globals]
FLEXPBX_VERSION=1.3
COMPANY_NAME=FlexPBX

[flexpbx-internal]
; Extension-to-Extension Dialing
; Automatically generated for each extension during setup
; Format: exten => XXXX,1,Dial(PJSIP/XXXX,20)

; Feature Codes - Voicemail (FreePBX Compatible)
exten => *97,1,NoOp(VoiceMail Access - Own Mailbox)
 same => n,Answer()
 same => n,VoiceMailMain(${CALLERID(num)}@flexpbx)
 same => n,Hangup()

exten => *98,1,NoOp(VoiceMail Access - Any Mailbox)
 same => n,Answer()
 same => n,VoiceMailMain(@flexpbx)
 same => n,Hangup()

; Feature Codes - Testing (FreePBX Compatible)
exten => *43,1,NoOp(Echo Test)
 same => n,Answer()
 same => n,Playback(demo-echotest)
 same => n,Echo()
 same => n,Hangup()

; Feature Codes - Directory (FreePBX Compatible)
exten => *411,1,NoOp(Company Directory)
 same => n,Answer()
 same => n,Directory(flexpbx,by-extension)
 same => n,Hangup()

; Feature Codes - Call Parking (FreePBX Compatible)
exten => 700,1,NoOp(Park Call)
 same => n,Park()

exten => 701,1,NoOp(Retrieve Parked Call 701)
 same => n,ParkedCall(701)

exten => 702,1,NoOp(Retrieve Parked Call 702)
 same => n,ParkedCall(702)

; Conference Rooms (FreePBX Compatible)
exten => 8000,1,NoOp(Conference Room 8000 - Main)
 same => n,Answer()
 same => n,Playback(conf-now-entering)
 same => n,ConfBridge(8000)
 same => n,Hangup()

exten => 8001,1,NoOp(Conference Room 8001)
 same => n,Answer()
 same => n,Playback(conf-now-entering)
 same => n,ConfBridge(8001)
 same => n,Hangup()

; Feature Codes - Call Forwarding (Optional - uncomment to enable)
;exten => *72,1,NoOp(Call Forward Always - Enable)
; same => n,Answer()
; same => n,Wait(1)
; same => n,Read(FORWARD_TO,enter-ext-of-person,4)
; same => n,Set(DB(CF/${CALLERID(num)})=${FORWARD_TO})
; same => n,Playback(call-fwd-on)
; same => n,Hangup()

;exten => *73,1,NoOp(Call Forward Always - Disable)
; same => n,Answer()
; same => n,DBdel(CF/${CALLERID(num)})
; same => n,Playback(call-fwd-off)
; same => n,Hangup()

; IVR Templates Available in FREEPBX_COMPATIBILITY_GUIDE.md
